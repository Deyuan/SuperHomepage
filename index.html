<!DOCTYPE html>
<html ng-app="superHomepage">

<head>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/Sortable/1.4.2/Sortable.min.js"></script>
  <script src="http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js"></script>
	<script src="http://rubaxa.github.io/Ply/Ply.min.js"></script>
  <script src="resource/superHomepage.js"></script>
  <style type="text/css">
      ul {
          padding-left: 20px;
          width: 200px;
      }
      li {
          color: orange;
          height: 20px;
          margin-bottom: 10px;
          -webkit-border-radius: 0px;
      	  -webkit-box-shadow: 1px 1px 2px 1px #AAAAAA;
      }
  </style>
</head>

<body ng-controller="superHomepageCtrl">
  <div>
    <p>Name:
      <input type="text" ng-model="fullName">
    </p>
    <p ng-bind="fullName"></p>
  </div>
  <input type="submit" value="Save"/>


  <div>
    <ul id="items">
      <li> <a href="https://www.google.com">Google</a> <span style="float:right;"><i align="right" class="js-remove">X</i></span> </li>
      <li> <a href="https://www.amazon.com">Amazon</a> <span style="float:right;"><i align="right" class="js-remove">X</i></span> </li>
      <li> <a href="http://www.virginia.edu">University of Virginia</a> <span style="float:right;"><i align="right" class="js-remove">X</i></span> </li>
    </ul>
    <button id="addUser">Add</button>
  </div>

  <script>
    var el = document.getElementById('items');
    var sortable = Sortable.create(el, {
      animation: 300,
      filter: '.js-remove',
		  onFilter: function (evt) {
			  evt.item.parentNode.removeChild(evt.item);
		  }
    });
    var byId = function (id) { return document.getElementById(id); }
    byId('addUser').onclick = function () {
      Ply.dialog('prompt', {
        title: 'Add',
        form: { name: 'name', url: 'url' }
      }).done(function (ui) {
        var el = document.createElement('li');
        el.innerHTML = '<a href="' + ui.data.url + '">' + ui.data.name + '</a>' + '<span style="float:right;"><i align="right" class="js-remove">X</i></span>';
        sortable.el.appendChild(el);
      });
    };
  </script>

</body>
</html>
